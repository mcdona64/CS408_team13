cah.ajax.Builder=function(op){this.data={};this.data[cah.$.AjaxRequest.OP]=op;this.run_=false;this.errback=undefined;};cah.ajax.Builder.serial=0;cah.ajax.Builder.prototype.withErrback=function(opt_errback){this.assertNotExecuted_();this.errback=errback;return this;};cah.ajax.Builder.prototype.run=function(){this.assertNotExecuted_();this.run_=true;this.data[cah.$.AjaxRequest.SERIAL]=cah.ajax.Builder.serial++;cah.Ajax.instance.requestWithBuilder(this);};cah.ajax.Builder.prototype.withNickname=function(nickname){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.NICKNAME]=nickname;return this;};cah.ajax.Builder.prototype.withPersistentId=function(persistentId){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.PERSISTENT_ID]=persistentId;return this;};cah.ajax.Builder.prototype.withMessage=function(message){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.MESSAGE]=message;return this;};cah.ajax.Builder.prototype.withGameId=function(gameId){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.GAME_ID]=gameId;return this;};cah.ajax.Builder.prototype.withCardId=function(cardId){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.CARD_ID]=cardId;return this;};cah.ajax.Builder.prototype.withGameOptions=function(options){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.GAME_OPTIONS]=$.toJSON(options);return this;};cah.ajax.Builder.prototype.withPassword=function(password){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.PASSWORD]=password;return this;};cah.ajax.Builder.prototype.withWall=function(wall){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.WALL]=wall;return this;};cah.ajax.Builder.prototype.withEmote=function(emote){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.EMOTE]=emote;return this;};cah.ajax.Builder.prototype.withCardcastId=function(id){this.assertNotExecuted_();this.data[cah.$.AjaxRequest.CARDCAST_ID]=id;return this;};cah.ajax.Builder.prototype.assertNotExecuted_=function(){if(this.run_){throw"Request already executed.";}};cah.ajax.Builder.prototype.assertExecuted_=function(){if(!this.run_){throw"Request not yet executed.";}};cah.ajax.Builder.prototype.getOp=function(){this.assertExecuted_();return this.data[cah.$.AjaxRequest.OP];};cah.ajax.Builder.prototype.getSerial=function(){this.assertExecuted_();return this.data[cah.$.AjaxRequest.SERIAL];};